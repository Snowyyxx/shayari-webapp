{"ast":null,"code":"var _jsxFileName = \"/home/adityaa/Desktop/stuff/code/shayari/react-code/src/AddShayari.js\";\n// AddShayari.js\n\nimport React, { useState, useContext } from 'react';\nimport { AuthContext } from './AuthContext';\nfunction AddShayari({\n  onAdd\n}) {\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [content, setContent] = useState('');\n  const [submit, setSubmit] = useState(false);\n  const [error, setError] = useState(null);\n  const {\n    authTokens\n  } = useContext(AuthContext);\n  const handleSubmit = e => {\n    e.preventDefault();\n    const newShayari = {\n      title,\n      author,\n      content\n    };\n    fetch('http://127.0.0.1:8000/shayaris/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${authTokens.access}`\n      },\n      body: JSON.stringify(newShayari)\n    }).then(response => {\n      if (response.ok) {\n        setSubmit(true);\n        setTitle('');\n        setAuthor('');\n        setContent('');\n        setError(null);\n        if (onAdd) onAdd();\n      } else {\n        return response.json().then(data => {\n          throw new Error(data.error || 'Something went wrong');\n        });\n      }\n    }).catch(err => {\n      setError(err.message);\n    });\n  };\n  if (!authTokens) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 16\n      }\n    }, \"Please log in to add a shayari.\");\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-shayari-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"add-shayari-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"form-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, \"\\u0905\\u092A\\u0928\\u0940 \\u0936\\u093E\\u092F\\u0930\\u0940 \\u091C\\u094B\\u0921\\u093C\\u0947\\u0902\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: title,\n    onChange: e => setTitle(e.target.value),\n    placeholder: \"\\u0936\\u0940\\u0930\\u094D\\u0937\\u0915\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: author,\n    onChange: e => setAuthor(e.target.value),\n    placeholder: \"\\u0932\\u0947\\u0916\\u0915 \\u0915\\u093E \\u0928\\u093E\\u092E\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    value: content,\n    onChange: e => setContent(e.target.value),\n    placeholder: \"\\u092F\\u0939\\u093E\\u0901 \\u0905\\u092A\\u0928\\u0940 \\u0936\\u093E\\u092F\\u0930\\u0940 \\u0932\\u093F\\u0916\\u0947\\u0902...\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"\\u0936\\u093E\\u092F\\u0930\\u0940 \\u091C\\u094B\\u0921\\u093C\\u0947\\u0902\"), submit && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"submitted-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 28\n    }\n  }, \"\\u0906\\u092A\\u0915\\u0940 \\u0936\\u093E\\u092F\\u0930\\u0940 \\u0938\\u092B\\u0932\\u0924\\u093E\\u092A\\u0942\\u0930\\u094D\\u0935\\u0915 \\u0938\\u092C\\u092E\\u093F\\u091F \\u0939\\u094B \\u0917\\u0908 \\u0939\\u0948!\"), error && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 27\n    }\n  }, error)));\n}\nexport default AddShayari;","map":{"version":3,"names":["React","useState","useContext","AuthContext","AddShayari","onAdd","title","setTitle","author","setAuthor","content","setContent","submit","setSubmit","error","setError","authTokens","handleSubmit","e","preventDefault","newShayari","fetch","method","headers","access","body","JSON","stringify","then","response","ok","json","data","Error","catch","err","message","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","type","value","onChange","target","placeholder","required"],"sources":["/home/adityaa/Desktop/stuff/code/shayari/react-code/src/AddShayari.js"],"sourcesContent":["// AddShayari.js\n\nimport React, { useState, useContext } from 'react';\nimport { AuthContext } from './AuthContext';\n\nfunction AddShayari({ onAdd }) {\n    const [title, setTitle] = useState('');\n    const [author, setAuthor] = useState('');\n    const [content, setContent] = useState('');\n    const [submit, setSubmit] = useState(false);\n    const [error, setError] = useState(null);\n    const { authTokens } = useContext(AuthContext);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const newShayari = { title, author, content };\n        fetch('http://127.0.0.1:8000/shayaris/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${authTokens.access}`,\n            },\n            body: JSON.stringify(newShayari),\n        })\n            .then((response) => {\n                if (response.ok) {\n                    setSubmit(true);\n                    setTitle('');\n                    setAuthor('');\n                    setContent('');\n                    setError(null);\n                    if (onAdd) onAdd();\n                } else {\n                    return response.json().then((data) => {\n                        throw new Error(data.error || 'Something went wrong');\n                    });\n                }\n            })\n            .catch((err) => {\n                setError(err.message);\n            });\n    };\n\n    if (!authTokens) {\n        return <p>Please log in to add a shayari.</p>;\n    }\n\n    return (\n        <div className=\"add-shayari-card\">\n            <form onSubmit={handleSubmit} className=\"add-shayari-form\">\n                <h2 className=\"form-title\">अपनी शायरी जोड़ें</h2>\n                <input\n                    type=\"text\"\n                    value={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                    placeholder=\"शीर्षक\"\n                    required\n                />\n                <input\n                    type=\"text\"\n                    value={author}\n                    onChange={(e) => setAuthor(e.target.value)}\n                    placeholder=\"लेखक का नाम\"\n                    required\n                />\n                <textarea\n                    value={content}\n                    onChange={(e) => setContent(e.target.value)}\n                    placeholder=\"यहाँ अपनी शायरी लिखें...\"\n                    required\n                />\n                <button type=\"submit\">शायरी जोड़ें</button>\n                {submit && <p className=\"submitted-message\">आपकी शायरी सफलतापूर्वक सबमिट हो गई है!</p>}\n                {error && <p className=\"error-message\">{error}</p>}\n            </form>\n        </div>\n    );\n}\n\nexport default AddShayari;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}