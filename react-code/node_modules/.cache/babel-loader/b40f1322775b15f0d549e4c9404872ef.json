{"ast":null,"code":"var _jsxFileName = \"/home/adityaa/Desktop/stuff/code/shayari/react-code/src/ShayariList.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Shayari from './Shayari';\nimport Comments from \"./CommentSection\";\nfunction ShayariList() {\n  const [shayari, setShayari] = useState([]);\n  const [showcomments, setShowComments] = useState(false);\n  useEffect(() => {\n    fetch('http://127.0.0.1:8000/shayaris/').then(response => response.json()).then(data => {\n      const fetchedShayaris = data.map(item => ({\n        id: item.id,\n        title: item.title,\n        author: item.author,\n        content: item.content,\n        likes: item.like_count,\n        dislikes: item.dislike_count\n      }));\n      setShayari(fetchedShayaris);\n    }).catch(error => console.error('Error:', error));\n  }, []);\n  const handleLike = id => {\n    setShayari(prevShayaris => prevShayaris.map(shayari => shayari.id === id ? {\n      ...shayari,\n      likes: shayari.likes + 1\n    } : shayari));\n    fetch(`http://127.0.0.1:8000/shayari/${id}/like/`, {\n      method: 'POST'\n    }).then(response => response.json()).catch(error => console.error('Error:', error));\n  };\n  const handleDislike = id => {\n    setShayari(prevShayari => prevShayari.map(elem => {\n      if (elem.id === id) {\n        return {\n          ...elem,\n          dislikes: elem.dislikes + 1\n        };\n      } else {\n        return elem;\n      }\n    }));\n    fetch(`http://127.0.0.1:8000/shayari/${id}/dislike/`, {\n      method: 'POST'\n    }).then(response => response.json()).catch(error => console.error('Error:', error));\n  };\n  function ShayariCard({\n    elem,\n    idx\n  }) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Shayari, {\n      id: elem.id,\n      title: elem.title,\n      author: `- ${elem.author}`,\n      content: elem.content,\n      likes: elem.likes,\n      dislikes: elem.dislikes,\n      onLike: () => handleLike(elem.id),\n      onDislike: () => handleDislike(elem.id),\n      setShowComments: setShowComments,\n      showcomments: sh,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shayari-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, shayari.map((elem, idx) => /*#__PURE__*/React.createElement(ShayariCard, {\n    elem: elem,\n    idx: idx,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  })));\n}\nexport default ShayariList;","map":{"version":3,"names":["React","useEffect","useState","Shayari","Comments","ShayariList","shayari","setShayari","showcomments","setShowComments","fetch","then","response","json","data","fetchedShayaris","map","item","id","title","author","content","likes","like_count","dislikes","dislike_count","catch","error","console","handleLike","prevShayaris","method","handleDislike","prevShayari","elem","ShayariCard","idx","createElement","key","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onLike","onDislike","sh","className"],"sources":["/home/adityaa/Desktop/stuff/code/shayari/react-code/src/ShayariList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Shayari from './Shayari';\nimport Comments from \"./CommentSection\";\nfunction ShayariList() {\n    const [shayari, setShayari] = useState([]);\n    const [showcomments, setShowComments] = useState(false);\n\n    useEffect(() => {\n        fetch('http://127.0.0.1:8000/shayaris/')\n            .then(response => response.json())\n            .then(data => {\n                const fetchedShayaris = data.map(item => ({\n                    id: item.id,\n                    title: item.title,\n                    author: item.author,\n                    content: item.content,\n                    likes: item.like_count,\n                    dislikes: item.dislike_count\n                }));\n                setShayari(fetchedShayaris);\n            })\n            .catch(error => console.error('Error:', error));\n    }, []);\n\n    const handleLike = (id) => {\n        setShayari(prevShayaris =>\n            prevShayaris.map(shayari =>\n                shayari.id === id ? { ...shayari, likes: shayari.likes + 1 } : shayari\n            )\n        );\n\n        fetch(`http://127.0.0.1:8000/shayari/${id}/like/`, {\n            method: 'POST',\n        })\n        .then(response => response.json())\n        .catch(error => console.error('Error:', error));\n    };\n\n    const handleDislike = (id) =>{\n        setShayari(prevShayari =>\n            prevShayari.map(elem =>{\n                if (elem.id === id) {\n                    return { ...elem, dislikes: elem.dislikes + 1 };\n                } else {\n                    return elem;\n                }\n            })\n        )\n        fetch(`http://127.0.0.1:8000/shayari/${id}/dislike/`, {\n            method: 'POST',\n        })\n        .then(response => response.json())\n        .catch(error => console.error('Error:', error));\n    };\n\n\n    function ShayariCard({elem, idx}){\n        return (\n            <div key = {idx} >\n                <Shayari \n                        id={elem.id} \n                        title={elem.title} \n                        author={`- ${elem.author}`}\n                        content={elem.content} \n                        likes={elem.likes} \n                        dislikes={elem.dislikes} \n                        onLike={() => handleLike(elem.id)}\n                        onDislike={() => handleDislike(elem.id)}\n                        setShowComments={setShowComments}\n                        showcomments={sh}\n                    />\n            </div>\n        )\n    }\n\n    return (\n        <div className=\"shayari-list\">\n            {shayari.map((elem, idx) => (\n                <ShayariCard elem={elem} idx={idx}/>\n            ))}\n        </div>\n    );\n}\n\nexport default ShayariList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}