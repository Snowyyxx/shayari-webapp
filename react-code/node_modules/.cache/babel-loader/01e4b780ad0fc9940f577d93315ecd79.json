{"ast":null,"code":"var _jsxFileName = \"/home/adityaa/Desktop/stuff/code/shayari/react-code/src/ShayariList.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Shayari from './Shayari';\nfunction ShayariList() {\n  const [shayari, setShayari] = useState([]);\n  useEffect(() => {\n    const fetchShayaris = () => {\n      fetch('http://127.0.0.1:8000/shayaris/').then(response => response.json()).then(data => {\n        const fetchedShayaris = data.map(item => ({\n          id: item.id,\n          title: item.title,\n          author: item.author,\n          content: item.content,\n          likes: item.like_count,\n          dislikes: item.dislike_count\n        }));\n        setShayari(fetchedShayaris);\n      }).catch(error => console.error('Error:', error));\n    };\n    fetchShayaris();\n  }, []);\n  const handleLike = id => {\n    fetch(`http://127.0.0.1:8000/shayari/${id}/like/`, {\n      method: 'POST'\n    }).then(response => response.json()).then(data => {\n      // Update the specific shayari in the list\n      setShayari(prevShayaris => prevShayaris.map(shayari => shayari.id === id ? {\n        ...shayari,\n        likes: data.likes\n      } : shayari));\n    }).catch(error => console.error('Error:', error));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shayari-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, shayari.map((elem, idx) => /*#__PURE__*/React.createElement(Shayari, {\n    key: idx,\n    id: elem.id,\n    title: elem.title,\n    author: `- ${elem.author}`,\n    content: elem.content,\n    likes: elem.likes,\n    dislikes: elem.dislikes,\n    onLike: () => handleLike(elem.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  })));\n}\nexport default ShayariList;","map":{"version":3,"names":["React","useEffect","useState","Shayari","ShayariList","shayari","setShayari","fetchShayaris","fetch","then","response","json","data","fetchedShayaris","map","item","id","title","author","content","likes","like_count","dislikes","dislike_count","catch","error","console","handleLike","method","prevShayaris","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","elem","idx","key","onLike"],"sources":["/home/adityaa/Desktop/stuff/code/shayari/react-code/src/ShayariList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Shayari from './Shayari';\n\nfunction ShayariList() {\n    const [shayari, setShayari] = useState([]);\n\n    useEffect(() => {\n        const fetchShayaris = () => {\n            fetch('http://127.0.0.1:8000/shayaris/')\n                .then(response => response.json())\n                .then(data => {\n                    const fetchedShayaris = data.map(item => ({\n                        id: item.id,\n                        title: item.title,\n                        author: item.author,\n                        content: item.content,\n                        likes: item.like_count,\n                        dislikes: item.dislike_count\n                    }));\n                    setShayari(fetchedShayaris);\n                })\n                .catch(error => console.error('Error:', error));\n        };\n\n        fetchShayaris();\n    }, []);\n\n    const handleLike = (id) => {\n        fetch(`http://127.0.0.1:8000/shayari/${id}/like/`, {\n            method: 'POST',\n        })\n        .then(response => response.json())\n        .then(data => {\n            // Update the specific shayari in the list\n            setShayari(prevShayaris => \n                prevShayaris.map(shayari => \n                    shayari.id === id ? { ...shayari, likes: data.likes } : shayari\n                )\n            );\n        })\n        .catch(error => console.error('Error:', error));\n    };\n\n    return (\n        <div className=\"shayari-list\">\n            {shayari.map((elem, idx) => (\n                <Shayari \n                    key={idx} \n                    id={elem.id} \n                    title={elem.title} \n                    author={`- ${elem.author}`}\n                    content={elem.content} \n                    likes={elem.likes} \n                    dislikes={elem.dislikes} \n                    onLike={() => handleLike(elem.id)}\n                />\n            ))}\n        </div>\n    );\n}\n\nexport default ShayariList;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,OAAO,MAAM,WAAW;AAE/B,SAASC,WAAWA,CAAA,EAAG;EACnB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGJ,QAAQ,CAAC,EAAE,CAAC;EAE1CD,SAAS,CAAC,MAAM;IACZ,MAAMM,aAAa,GAAGA,CAAA,KAAM;MACxBC,KAAK,CAAC,iCAAiC,CAAC,CACnCC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAI;QACV,MAAMC,eAAe,GAAGD,IAAI,CAACE,GAAG,CAACC,IAAI,KAAK;UACtCC,EAAE,EAAED,IAAI,CAACC,EAAE;UACXC,KAAK,EAAEF,IAAI,CAACE,KAAK;UACjBC,MAAM,EAAEH,IAAI,CAACG,MAAM;UACnBC,OAAO,EAAEJ,IAAI,CAACI,OAAO;UACrBC,KAAK,EAAEL,IAAI,CAACM,UAAU;UACtBC,QAAQ,EAAEP,IAAI,CAACQ;QACnB,CAAC,CAAC,CAAC;QACHjB,UAAU,CAACO,eAAe,CAAC;MAC/B,CAAC,CAAC,CACDW,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC,CAAC;IACvD,CAAC;IAEDlB,aAAa,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMoB,UAAU,GAAIX,EAAE,IAAK;IACvBR,KAAK,CAAC,iCAAiCQ,EAAE,QAAQ,EAAE;MAC/CY,MAAM,EAAE;IACZ,CAAC,CAAC,CACDnB,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAI;MACV;MACAN,UAAU,CAACuB,YAAY,IACnBA,YAAY,CAACf,GAAG,CAACT,OAAO,IACpBA,OAAO,CAACW,EAAE,KAAKA,EAAE,GAAG;QAAE,GAAGX,OAAO;QAAEe,KAAK,EAAER,IAAI,CAACQ;MAAM,CAAC,GAAGf,OAC5D,CACJ,CAAC;IACL,CAAC,CAAC,CACDmB,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC,CAAC;EACnD,CAAC;EAED,oBACIzB,KAAA,CAAA8B,aAAA;IAAKC,SAAS,EAAC,cAAc;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACxBhC,OAAO,CAACS,GAAG,CAAC,CAACwB,IAAI,EAAEC,GAAG,kBACnBvC,KAAA,CAAA8B,aAAA,CAAC3B,OAAO;IACJqC,GAAG,EAAED,GAAI;IACTvB,EAAE,EAAEsB,IAAI,CAACtB,EAAG;IACZC,KAAK,EAAEqB,IAAI,CAACrB,KAAM;IAClBC,MAAM,EAAE,KAAKoB,IAAI,CAACpB,MAAM,EAAG;IAC3BC,OAAO,EAAEmB,IAAI,CAACnB,OAAQ;IACtBC,KAAK,EAAEkB,IAAI,CAAClB,KAAM;IAClBE,QAAQ,EAAEgB,IAAI,CAAChB,QAAS;IACxBmB,MAAM,EAAEA,CAAA,KAAMd,UAAU,CAACW,IAAI,CAACtB,EAAE,CAAE;IAAAgB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACrC,CACJ,CACA,CAAC;AAEd;AAEA,eAAejC,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module"}