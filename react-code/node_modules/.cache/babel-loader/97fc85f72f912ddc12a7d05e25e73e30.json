{"ast":null,"code":"var _jsxFileName = \"/home/adityaa/Desktop/stuff/code/shayari/react-code/src/ShayariList.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Shayari from './Shayari';\nfunction ShayariList() {\n  const [shayari, setShayari] = useState([]);\n  useEffect(() => {\n    fetch('http://127.0.0.1:8000/shayaris/').then(response => response.json()).then(data => {\n      const fetchedShayaris = data.map(item => ({\n        id: item.id,\n        title: item.title,\n        author: item.author,\n        content: item.content,\n        likes: item.like_count,\n        dislikes: item.dislike_count\n      }));\n      setShayari(fetchedShayaris);\n    }).catch(error => console.error('Error:', error));\n  }, []);\n  const handleLike = id => {\n    setShayari(prevShayaris => prevShayaris.map(shayari => shayari.id === id ? {\n      ...shayari,\n      likes: shayari.likes + 1\n    } : shayari));\n    fetch(`http://127.0.0.1:8000/shayari/${id}/like/`, {\n      method: 'POST'\n    }).then(response => response.json()).catch(error => console.error('Error:', error));\n  };\n  const handleDislike = id => {\n    setShayari(prevShayari => prevShayari.map(elem => {\n      if (elem.id === id) {\n        return {\n          ...elem,\n          dislikes: elem.dislikes + 1\n        };\n      } else {\n        return elem;\n      }\n    }));\n    fetch(`http://127.0.0.1:8000/shayari/${id}/dislike/`, {\n      method: 'POST'\n    }).then(response => response.json()).catch(error => console.error('Error:', error));\n  };\n  function ShayariCard(elem, idx) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: idx,\n      className: \"shayari-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Shayari, {\n      id: elem.id,\n      title: elem.title,\n      author: `- ${elem.author}`,\n      content: elem.content,\n      likes: elem.likes,\n      dislikes: elem.dislikes,\n      onLike: () => handleLike(elem.id),\n      onDislike: () => handleDislike(elem.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shayari-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, shayari.map((elem, idx) => /*#__PURE__*/React.createElement(ShayariCard, {\n    elem: elem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  })));\n}\nexport default ShayariList;","map":{"version":3,"names":["React","useEffect","useState","Shayari","ShayariList","shayari","setShayari","fetch","then","response","json","data","fetchedShayaris","map","item","id","title","author","content","likes","like_count","dislikes","dislike_count","catch","error","console","handleLike","prevShayaris","method","handleDislike","prevShayari","elem","ShayariCard","idx","createElement","key","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onLike","onDislike"],"sources":["/home/adityaa/Desktop/stuff/code/shayari/react-code/src/ShayariList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Shayari from './Shayari';\n\nfunction ShayariList() {\n    const [shayari, setShayari] = useState([]);\n\n    useEffect(() => {\n        fetch('http://127.0.0.1:8000/shayaris/')\n            .then(response => response.json())\n            .then(data => {\n                const fetchedShayaris = data.map(item => ({\n                    id: item.id,\n                    title: item.title,\n                    author: item.author,\n                    content: item.content,\n                    likes: item.like_count,\n                    dislikes: item.dislike_count\n                }));\n                setShayari(fetchedShayaris);\n            })\n            .catch(error => console.error('Error:', error));\n    }, []);\n\n    const handleLike = (id) => {\n        setShayari(prevShayaris =>\n            prevShayaris.map(shayari =>\n                shayari.id === id ? { ...shayari, likes: shayari.likes + 1 } : shayari\n            )\n        );\n\n        fetch(`http://127.0.0.1:8000/shayari/${id}/like/`, {\n            method: 'POST',\n        })\n        .then(response => response.json())\n        .catch(error => console.error('Error:', error));\n    };\n\n    const handleDislike = (id) =>{\n        setShayari(prevShayari =>\n            prevShayari.map(elem =>{\n                if (elem.id === id) {\n                    return { ...elem, dislikes: elem.dislikes + 1 };\n                } else {\n                    return elem;\n                }\n            })\n        )\n        fetch(`http://127.0.0.1:8000/shayari/${id}/dislike/`, {\n            method: 'POST',\n        })\n        .then(response => response.json())\n        .catch(error => console.error('Error:', error));\n    };\n\n\n    function ShayariCard(elem, idx){\n        return (\n            <div key = {idx} className=\"shayari-card\">\n                <Shayari \n                        id={elem.id} \n                        title={elem.title} \n                        author={`- ${elem.author}`}\n                        content={elem.content} \n                        likes={elem.likes} \n                        dislikes={elem.dislikes} \n                        onLike={() => handleLike(elem.id)}\n                        onDislike={() => handleDislike(elem.id)}\n                    />\n            </div>\n        )\n    }\n\n    return (\n        <div className=\"shayari-list\">\n            {shayari.map((elem, idx) => (\n                <ShayariCard elem={elem} />\n            ))}\n        </div>\n    );\n}\n\nexport default ShayariList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}